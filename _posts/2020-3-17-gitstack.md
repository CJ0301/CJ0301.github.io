---
layout: 		post
title: 			"Gitstack"
subtitle: 		'ä»£ç æ‰˜ç®¡'
author: 		"CJ"
header-img: 	"img/post-bg-tools.jpg"
outer-img:		"post-bg-tools.jpg"
header-mask: 	0.3
catalog: 		true
mathjax:        true
tags:
  - ä»£ç è¾…åŠ©å·¥å…·
---

## å®‰è£…
è¿›å…¥[ä¼ é€é—¨](https://gitstack.com/)ï¼Œæ‰¾åˆ°ä¸‹æ–¹çš„ä¸‹è½½ï¼Œç„¶åç‚¹å‡»å®‰è£…(éœ€è¦é‡Šæ”¾80ç«¯å£)ï¼Œå¦‚æœå‘ç°80ç«¯å£å ç”¨ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤`netstat -ano|findstr 80`æ‰¾åˆ°å ç”¨è¿›ç¨‹ï¼Œç„¶åè¿›ä»»åŠ¡ç®¡ç†å™¨killğŸ”ªæ‰ã€‚

![](https://a-photo-store.oss-cn-beijing.aliyuncs.com/in-posts/20200317-gitstack-1.png)

ä¹‹åçš„äº‹å°±å¾ˆå®¹æ˜“äº†ï¼Œåœ¨`Respositories`åˆ›å»ºä»“åº“ï¼Œç„¶ååˆ›å»ºå‡ ä¸ªç”¨æˆ·ç»™è‡ªå·±çš„å°ä¼™ä¼´ï¼Œæ‹‰ä¸€ä¸ªé¡¹ç›®çš„`group`ï¼Œç„¶ååŠ å…¥æŸä¸ªé¡¹ç›®ã€‚

æ–°åˆ›å»ºçš„é¡¹ç›®å…‹éš†åˆ°æœ¬æœºï¼Œç„¶åå°±æ˜¯gitæ­£å¸¸çš„æ“ä½œäº†ã€‚

ğŸŒŸpushåˆ°è¿œç¨‹ä»“åº“éœ€è¦è¾“å…¥çš„æ˜¯é¡¹ç›®é‡Œçš„æˆå‘˜ç”¨æˆ·åå’Œå¯†ç ï¼Œå¦‚æœå¤šæ¬¡è¾“é”™æ— æ³•æ›´æ”¹å°±ç”¨æ¸…é™¤å‘½ä»¤`credential-manager uninstall`æ¸…é™¤ç¼“å­˜çš„ç”¨æˆ·åä¸å¯†ç ã€‚

## gitç”¨æ³•æ€»ç»“
#### ç”¨æˆ·ä¿¡æ¯
ç¬¬ä¸€æ¬¡ä½¿ç”¨éœ€è¦é…ç½®ç”¨æˆ·ä¿¡æ¯
git config --global user.name "<ç”¨æˆ·å>"
git config -- global user.email <é‚®ç®±åœ°å€>

ç„¶åå°±èƒ½ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹(ä¸€èˆ¬æ–‡ä»¶åœ¨ä¸»ç›®å½•çš„.gitconfig)
git config --list

ğŸŒŸå•é¡¹ç›®å¦‚æœè¦è°ƒæ•´é…ç½®ä¿¡æ¯å°±å»æ‰globa

git help <æ“ä½œç > ğŸŒ°ï¼šgit help config

#### æ­£å¸¸æ“ä½œ
ç›®å½•çš„å‡ ä¸ªå‘½ä»¤
ls æ˜¾ç¤ºå½“å‰æ–‡ä»¶å¤¹æ–‡ä»¶
cd <è·¯å¾„å>|..   è¿›å…¥è¯¥ç›®å½•|ä¸Šçº§ç›®å½•

git init å½“å‰ç›®å½•åˆå§‹åŒ–

git clone <åœ°å€> å°†å·²æœ‰è¿œç¨‹ä»“åº“é¡¹ç›®ä¸‹è½½åˆ°æœ¬åœ°

git pull ä»è¿œç¨‹ä»“åº“æ‹‰å–æ›´æ–°

git push origin master å‘è¿œç¨‹ä»“åº“æäº¤ä»£ç 

git add <æ–‡ä»¶å>|. å°†æ–‡ä»¶åŠ å…¥æš‚å­˜åŒº|æ‰€æœ‰æ–‡ä»¶

git commit -m '<æè¿°ä¿¡æ¯>' æäº¤æ›´æ–°(-må‰åŠ -aå¯ä»¥è·³è¿‡addçš„æ­¥éª¤)

git status å„å­æ–‡ä»¶æ‰€å¤„çš„çŠ¶æ€

git log æŸ¥çœ‹æäº¤å†å²

git reflog æŸ¥çœ‹å‘½ä»¤å†å²

git mv <æ–‡ä»¶å> <æ–°æ–‡ä»¶å> æ–‡ä»¶é‡å‘½å

git rm <æ–‡ä»¶å> åˆ é™¤æ–‡ä»¶

git reset --hard <ç‰ˆæœ¬å·å‰å‡ ä½>

git reset HEAD <æ–‡ä»¶å> å–æ¶ˆæš‚å­˜åŒº

git checkout -- <æ–‡ä»¶å> å›åˆ°è¯¥æ–‡ä»¶æœ€è¿‘ä¸€æ¬¡commitæˆ–addçš„çŠ¶æ€(æ…ç”¨ï¼Œä¼šæ•°æ®ä¸¢å¤±)

![](https://a-photo-store.oss-cn-beijing.aliyuncs.com/in-posts/20200317-file-status.png)

æ€»ç»“  
ç‰ˆæœ¬è¿­ä»£ï¼š  
1.é¦–å…ˆå»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œç”¨`git init`è¿›è¡Œåˆå§‹åŒ–ã€‚  
2.ç„¶åå¯¹æƒ³è¦è¿›è¡Œç‰ˆæœ¬ç®¡ç†çš„æ–‡ä»¶ä½¿ç”¨`git add`çº³å…¥ç‰ˆæœ¬ç®¡ç†ã€‚ä¿®æ”¹æ–‡ä»¶åç”¨`git add`åŠ å…¥æš‚å­˜åŒºã€‚  
3.æœ€åä½¿ç”¨`git commit`æäº¤æš‚å­˜åŒºçš„å†…å®¹å½¢æˆä¸€ä¸ªå¯å›æº¯çš„ç‰ˆæœ¬ã€‚  

å•ä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬æ’¤å›ï¼š    
1.å¦‚æœæ˜¯å·¥ä½œåŒºçš„ä¿®æ”¹å‡ºäº†é—®é¢˜ï¼Œå°±ç›´æ¥ç”¨`git checkout -- <æ–‡ä»¶å>`ï¼Œå›é€€çš„çŠ¶æ€ä»¥ä¸Šä¸€ä¸ªå‘½ä»¤æ˜¯addæˆ–commitä¸ºå‡†ã€‚  
2.å¦‚æœæ˜¯æš‚å­˜åŒºä¿®æ”¹ï¼Œå°±ä½¿ç”¨`git reset HEAD <æ–‡ä»¶å>`ç„¶åæŒ‰ä¸Šä¸€æ­¥æ“ä½œã€‚  
3.å¦‚æœcommitè¿‡äº†ï¼Œå°±è¿›è¡Œä¸€ä¸‹ç‰ˆæœ¬å›é€€ã€‚    

ç‰ˆæœ¬å›é€€ï¼š   
1.HEADæŒ‡å‘çš„ä¸ºå½“å‰ç‰ˆæœ¬ï¼Œç”¨`git log`æˆ–`git reflog`æŸ¥çœ‹ç‰ˆæœ¬å·ã€‚  
2.ç„¶åç”¨`git reset --hard <ç‰ˆæœ¬å·å‰å‡ ä½>`  

åˆ é™¤æ–‡ä»¶ï¼š  
1.ä¸ç”¨çš„æ–‡ä»¶å¯ä»¥ç”¨`rm <æ–‡ä»¶å>`æˆ–ç›´æ¥åœ¨æ–‡ä»¶ç®¡ç†å™¨åˆ é™¤ã€‚  
2.å¦‚æœåœ¨ç‰ˆæœ¬åº“ä¸­ä¹Ÿè¦åˆ é™¤å°±ç”¨å‘½ä»¤`git rm <æ–‡ä»¶å>`ï¼Œå¹¶ä¸”`git commit`ã€‚  
3.å¦‚æœåªæ˜¯ç”¨ç¬¬ä¸€æ­¥åˆ é™¤ï¼Œéƒ½å¯ä»¥ç”¨`git checkout -- <æ–‡ä»¶å>`è¿˜åŸï¼Œè€Œç¬¬äºŒç§ç§»é™¤çš„åªèƒ½ç”¨ç‰ˆæœ¬å›é€€ã€‚  


#### åˆ†æ”¯æ“ä½œ

git branch <åˆ†æ”¯å> åœ¨å½“å‰commitå¯¹è±¡ä¸Šåˆ›å»ºåˆ†æ”¯  

git checkout <åˆ†æ”¯å> åˆ‡æ¢åˆ†æ”¯  (-b)åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯ 

git merge <åˆ†æ”¯å> åˆå¹¶åˆ†æ”¯  

git branch -d <åˆ†æ”¯å> åˆ é™¤åˆ†æ”¯  

git rebase <åˆ†æ”¯å> æ›´æ–°åˆ†æ”¯ä»£ç   

git log --graph æŸ¥çœ‹åˆ†æ”¯åˆå¹¶å›¾

åº”ç”¨åœºæ™¯ï¼šæˆ‘ç°åœ¨æœ‰ä¸€ä¸ªç½‘ç«™,é‡Œé¢æœ‰åŸæœ‰å†…å®¹ï¼Œæˆ‘è¿™æ—¶å€™æœ‰ä¸ªæ–°çš„éœ€æ±‚è¦åšï¼Œåˆ›å»ºä¸€ä¸ªnewReqåˆ†æ”¯(git branch newReq)ï¼ŒåŒæ—¶æˆ‘æœ‰ä¸€ä¸ªbugè¦ä¿®å¤ï¼Œåˆ›å»ºä¸€ä¸ªbug1åˆ†æ”¯(git branch bug1)ï¼Œæˆ‘ä¿®å¤äº†bug1ï¼Œåˆ‡å›masterç„¶ååˆå¹¶bug1å’Œä¸»æ”¯ï¼Œå½“æˆ‘å†åšnewReqå¦‚æœæ“ä½œäº†åŒä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå°±ä¼šå‡ºç°å†²çªã€‚  
![](https://a-photo-store.oss-cn-beijing.aliyuncs.com/in-posts/20200318-branch.png)
gitåˆ©ç”¨`<<<<<<<`ï¼Œ`=======`ï¼Œ`>>>>>>>`æ ‡è®°ä¸åŒåˆ†æ”¯çš„å†…å®¹ï¼Œä¿®æ”¹ä¹‹åæäº¤å°±èƒ½æˆåŠŸåˆå¹¶äº†ã€‚

bugä¿®å¤  
å…ˆç”¨`git stash`ä¿å­˜å·¥ä½œç°æˆï¼Œåˆ›å»ºä¸´æ—¶åˆ†æ”¯ï¼Œä¿®å¤å®Œæäº¤ï¼Œç„¶åè®°å½•ä¸‹æäº¤çš„hashç ï¼Œè¿›å…¥`git cherry-pick <hashç >`ï¼Œç„¶åä½¿ç”¨`git stash pop`å›åˆ°å·¥ä½œç°åœºï¼Œä¿®å¤å†²çªä¹‹åæäº¤ï¼Œå¯ä»¥åˆå¹¶ä¸»æ”¯ã€‚
![](https://a-photo-store.oss-cn-beijing.aliyuncs.com/in-posts/20200318-cherry-pick.png)

#### å®è·µè®²è§£  
è¿™é‡Œæˆ‘æœ‰ä¸€ä¸ªåˆå§‹ç‰ˆæœ¬ï¼Œç„¶åå»ºç«‹äº†ä¸€ä¸ªzhangçš„åˆ†æ”¯ï¼Œåˆ†åˆ«åœ¨masterå’Œzhangè¿›è¡Œäº†ä¸€æ¬¡æäº¤ã€‚  
![](https://a-photo-store.oss-cn-beijing.aliyuncs.com/in-posts/20200330-commit-both.png)

å½“zhangè¿­ä»£å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œä¸€æ¬¡ä¸masterçš„åˆå¹¶ã€‚  
![](https://a-photo-store.oss-cn-beijing.aliyuncs.com/in-posts/20200330-merge.png)

ä½†æ˜¯è¿™æ—¶å€™ä¼šå‘ç°ï¼Œmasteræ‹¥æœ‰äº†æ‰€æœ‰çš„æ›´æ”¹ï¼Œä½†æ˜¯åˆ‡å›zhangçš„æ—¶å€™masteræäº¤çš„æ›´æ”¹å´æ²¡æœ‰è¢«æ›´æ–°è¿›å»ã€‚è¿™æ—¶å€™å°±åˆ‡å›zhangä½¿ç”¨rebaseã€‚  
![](https://a-photo-store.oss-cn-beijing.aliyuncs.com/in-posts/20200330-git-rebase.png)

ä¹Ÿå¯ä»¥å…ˆrebaseå†mergeçš„ï¼Œè¿™æ ·æäº¤è®°å½•å°±æ˜¯çº¿æ€§ç»“æ„äº†ã€‚

ä¸Šé¢æ˜¯ç¬¬ä¸€ä¸ªæäº¤çš„äººçš„æ“ä½œæ–¹å¼ï¼Œä¸‹é¢å®Œæ•´çš„èµ°ä¸€éæ­£å¸¸çš„æ“ä½œæµç¨‹ï¼š  
å½“ç¬¬ä¸€ä¸ªäººå·²ç»å°†åˆå¹¶è¿‡çš„ä»£ç ä¸Šä¼ ä¹‹åï¼Œæˆ‘ä»¬é¦–å…ˆè¦åšçš„å°±æ˜¯æ‹‰å–æœ€æ–°çš„ä»£ç ã€‚
![](https://a-photo-store.oss-cn-beijing.aliyuncs.com/in-posts/20200330-git-pull.png)

ç„¶åæˆ‘ä»¬åˆ‡å›chenåˆ†æ”¯ï¼Œè¿›è¡Œä¸€æ¬¡rebaseã€‚
![](https://a-photo-store.oss-cn-beijing.aliyuncs.com/in-posts/20200330-git-rebase-2.png)

ç„¶åå†è¿›è¡Œä¸€æ¬¡åˆå¹¶ã€‚  
![](https://a-photo-store.oss-cn-beijing.aliyuncs.com/in-posts/20200330-git-merge-2.png)

æ­¤æ—¶æäº¤ä¼šå‘ç°è¿™æ˜¯ä¸€ä¸ªçº¿æ€§ç»“æ„ã€‚

æ€»ç»“ï¼š  
git mergeæ˜¯å¯¹ä¸¤ä¸ªåˆ†æ”¯æœ€æ–°çš„ä¸€æ¬¡commitå½¢æˆä¸€ä¸ªæ–°çš„commitï¼Œå‘ˆæ ‘çŠ¶ç»“æ„ã€‚  
git rebaseæ˜¯åˆ†æ”¯ç”Ÿæˆä¸€ä¸ªæ–°çš„commitï¼Œå†åŸºäºmasteræœ€æ–°çš„commitè¿›è¡Œæäº¤ã€‚